<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="static/css/createcode/bootstrap.min.css" rel="stylesheet" />
    <link href="static/css/createcode/bootstrap-responsive.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="static/css/createcode/font-awesome.min.css" />
    <link rel="stylesheet" href="static/css/createcode/ace.min.css" />
    <link rel="stylesheet" href="static/css/createcode/ace-responsive.min.css" />
    <link rel="stylesheet" href="static/css/createcode/ace-skins.min.css" />
    <script type="text/javascript" src="static/js/createcode/jquery-1.7.2.js"></script>
    <!--提示框-->
    <script type="text/javascript" src="static/js/createcode/jquery.tips.js"></script>

    <style type="text/css">
        #dialog-add,#dialog-message,#dialog-comment{width:100%; height:100%; position:fixed; top:0px; z-index:10000; display:none;}
        #mysql_dialog-add,#dialog-message,#dialog-comment{width:100%; height:100%; position:fixed; top:0px; z-index:10000; display:none;}  /*概要_样式*/
        #mysql_dialog-add_tap{width:100%; height:100%; position:fixed; top:0px; z-index:10000; display:none;}  /*mysql_样式*/
        #entity_dialog-add_tap{width:100%; height:100%; position:fixed; top:0px; z-index:10000; display:none;}  /*mysql_样式*/
        .commitopacity{position:absolute; width:100%; height:500px; background:#7f7f7f; filter:alpha(opacity=50); -moz-opacity:0.5; -khtml-opacity: 0.5; opacity: 0.5; top:0px; z-index:99999;}
        .commitbox{width:79%; padding-left:81px; padding-top:69px; position:absolute; top:0px; z-index:99999;}
        .commitbox_inner{width:96%; height:235px;  margin:6px auto; background:#efefef; border-radius:5px;}
        .commitbox_top{width:100%; height:230px; margin-bottom:10px; padding-top:10px; background:#FFF; border-radius:5px; box-shadow:1px 1px 3px #e8e8e8;}
        .commitbox_top textarea{width:95%; height:165px; display:block; margin:0px auto; border:0px;}
        .commitbox_cen{width:95%; height:40px; padding-top:10px;}
        .commitbox_cen div.left{float:left;background-size:15px; background-position:0px 3px; padding-left:18px; color:#f77500; font-size:16px; line-height:27px;}
        .commitbox_cen div.left img{width:30px;}
        .commitbox_cen div.right{float:right; margin-top:7px;}
        .commitbox_cen div.right span{cursor:pointer;}
        .commitbox_cen div.right span.save{border:solid 1px #c7c7c7; background:#6FB3E0; border-radius:3px; color:#FFF; padding:5px 10px;}
        .commitbox_cen div.right span.quxiao{border:solid 1px #f77400; background:#f77400; border-radius:3px; color:#FFF; padding:4px 9px;}
    </style>

</head>
<body>

<!-- 添加属性  -->
<input type="hidden" name="hcdname" id="hcdname" value="" />
<input type="hidden" name="msgIndex" id="msgIndex" value="" />
<input type="hidden" name="dtype" id="dtype" value="String" />
<input type="hidden" name="isQian" id="isQian" value="是" />


<form action="/New/proCode" name="FormAll" id="FormAll" method="post">

<!--属性-->
<input type="hidden" id="mysqlIndex" name="mysqlIndex"/>  <!--概要隐藏的id-->
<input type="hidden" id="mysqlIndexTap" name="mysqlIndexTap"/>  <!--mysql隐藏的id-->
<input type="hidden" id="entityIndexTap" name="entityIndexTap"/>  <!--Entity藏的id-->




    <div id="mysql_dialog-add">
        <div class="commitopacity"></div>
        <div class="commitbox">
            <div class="commitbox_inner">
                <div class="commitbox_top">
                    <br/>
                    <table>
                        <tr>
                            <td style="padding-left: 16px;text-align: right;">是否生成：</td>
                             <td>
                                 <label style="float:left;padding-left: 20px;"><input name="mysql_form-field-radiot" id="mysql_form-field-radio1"   type="radio" value="是" ></input><span class="lbl" >是</span></label>
                                 <label style="float:left;padding-left: 20px;"><input name="mysql_form-field-radiot" id="mysql_form-field-radio2"   type="radio" value="否" ></input><span class="lbl" >否</span></label>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding-left: 16px;text-align: right;">模板类型：</td>
                            <td><input name="mysql_dbz" id="mysql_dbz" type="text" value=""  disabled="disabled"  placeholder="例如 name的备注为 '姓名'" title="备注"/></td>

                        </tr>
                        <tr>
                            <td style="padding-left: 16px;text-align: right;">模板路径：</td><td>
                            <input name="mysql_ddefault" id="mysql_ddefault" type="text" value="" disabled="disabled" placeholder="后台附加值时生效" title="默认值"/></td>

                        </tr>

                        <tr>
                            <td>
                                <div class="commitbox_cen">
                                    <div class="left" id="cityname"></div>
                                    <div class="right"><span class="save" onClick="saveDMysql()">保存</span>&nbsp;&nbsp;<span class="quxiao" onClick="cancel_pl('mysql_dialog-add')">取消</span></div>
                                </div>
                            </td>
                        </tr>

                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="mysql_dialog-add_tap">
        <div class="commitopacity"></div>
        <div class="commitbox">
            <div class="commitbox_inner">
                <div class="commitbox_top">
                    <br/>
                    <table>

                        <tr>
                            <td style="padding-left: 16px;text-align: right;">属性名：</td>
                            <td><input name="mysql_attribute_tap" id="mysql_attribute_tap" type="text" value=""   placeholder="属性名" title="属性名"/></td>

                            <td style="padding-left: 16px;text-align: right;">属性中文：</td><td>
                            <input name="mysql_chine_tap" id="mysql_chine_tap" type="text" value=""  placeholder="属性中文" title="属性中文"/></td>
                        </tr>
                        <tr>
                            <td style="padding-left: 16px;text-align: right;">类型：</td>
                            <td><input name="mysql_type_tap" id="mysql_type_tap" type="text" value=""    placeholder="类型" title="类型"/></td>

                            <td style="padding-left: 16px;text-align: right;">默认值：</td><td>
                            <input name="mysql_default_tap" id="mysql_default_tap" type="text" value="" placeholder="默认值" title="默认值"/></td>
                        </tr>
                        <tr>
                            <td style="padding-left: 16px;text-align: right;">是否允许为空：</td>
                            <td>
                                <label style="float:left;padding-left: 20px;"><input name="mysql_form-tap-radiot" id="mysql_form-tap-radio1"   type="radio" value="是" ></input><span class="lbl" >是</span></label>
                                <label style="float:left;padding-left: 20px;"><input name="mysql_form-tap-radiot" id="mysql_form-tap-radio2"   type="radio" value="否" ></input><span class="lbl" >否</span></label>
                            </td>

                            <td style="padding-left: 16px;text-align: right;">是否为主键：</td>
                            <td>
                                <label style="float:left;padding-left: 20px;"><input name="mysql_form-key-radiot" id="mysql_form-key-radio1"   type="radio" value="是" ></input><span class="lbl" >是</span></label>
                                <label style="float:left;padding-left: 20px;"><input name="mysql_form-key-radiot" id="mysql_form-key-radio2"   type="radio" value="否" ></input><span class="lbl" >否</span></label>
                            </td>

                            <td style="padding-left: 16px;text-align: right;">是否为查询：</td>
                            <td>
                                <label style="float:left;padding-left: 20px;"><input name="mysql_form-sel-radiot" id="mysql_form-sel-radio1"   type="radio" value="是" ></input><span class="lbl" >是</span></label>
                                <label style="float:left;padding-left: 20px;"><input name="mysql_form-sel-radiot" id="mysql_form-sel-radio2"   type="radio" value="否" ></input><span class="lbl" >否</span></label>
                            </td>
                        </tr>

                        <tr>
                            <td style="padding-left: 16px;text-align: right;">查询类型：</td>
                            <td>
                            <input name="mysql_default_sel" id="mysql_default_sel" type="text" value="" placeholder="查询类型" title="查询类型"/>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="commitbox_cen">
                                    <div class="left" id="mysqlcityname"></div>
                                    <div class="right"><span class="save" onClick="saveDMysqltap()">保存</span>&nbsp;&nbsp;<span class="quxiao" onClick="cancel_pl('mysql_dialog-add_tap')">取消</span></div>
                                </div>
                            </td>
                        </tr>

                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="entity_dialog-add_tap">
        <div class="commitopacity"></div>
        <div class="commitbox">
            <div class="commitbox_inner">
                <div class="commitbox_top">
                    <br/>
                    <table>

                        <tr>
                            <td style="padding-left: 16px;text-align: right;">属性名：</td>
                            <td><input   id="entity_attribute_tap" type="text" value=""   placeholder="属性名" title="属性名"/></td>

                            <td style="padding-left: 16px;text-align: right;">属性中文：</td><td>
                            <input   id="entity_chine_tap" type="text" value=""  placeholder="属性中文" title="属性中文"/></td>
                        </tr>
                        <tr>
                            <td style="padding-left: 16px;text-align: right;">类型：</td>
                            <td><input   id="entity_type_tap" type="text" value=""    placeholder="类型" title="类型"/></td>

                            <td style="padding-left: 16px;text-align: right;">默认值：</td><td>
                            <input   id="entity_default_tap" type="text" value="" placeholder="默认值" title="默认值"/></td>
                        </tr>
                        <tr>
                            <td style="padding-left: 16px;text-align: right;">是否允许为空：</td>
                            <td>
                                <label style="float:left;padding-left: 20px;"><input name="entity_form-tap-radiot"  id="entity_form-tap-radio1"   type="radio" value="是" ></input><span class="lbl" >是</span></label>
                                <label style="float:left;padding-left: 20px;"><input name="entity_form-tap-radiot"   id="entity_form-tap-radio2"   type="radio" value="否" ></input><span class="lbl" >否</span></label>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding-left: 16px;text-align: right;">是否为主键：</td>
                            <td>
                                <label style="float:left;padding-left: 20px;"><input name="entity_form-key-radiot"   id="entity_form-key-radio1"   type="radio" value="是" ></input><span class="lbl" >是</span></label>
                                <label style="float:left;padding-left: 20px;"><input name="entity_form-key-radiot"   id="entity_form-key-radio2"   type="radio" value="否" ></input><span class="lbl" >否</span></label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="commitbox_cen">
                                    <div class="left" id="entitycityname"></div>
                                    <div class="right"><span class="save" onClick="saveDentitytap()">保存</span>&nbsp;&nbsp;<span class="quxiao" onClick="cancel_pl('entity_dialog-add_tap')">取消</span></div>
                                </div>
                            </td>
                        </tr>

                    </table>
                </div>
            </div>
        </div>
    </div>




    <table border="0">
        <tr>
            <td style="width:76px;text-align: right;">项目名：</td>
            <td><input type="text" name="objectName" id="objectName" value="项目名" placeholder="项目名"   style="width:200px" title="类名称"/></td>
            <td style="width:86px;text-align: right;">功能类名称：</td>
            <td><input type="text" name="tabletop"  id="tabletop"  value="test"   placeholder="test" style="width:200px" title="表前缀"/></td>

            <td style="width:76px;text-align: right;">功能备注：</td>
            <td><input type="text" name="objectRemark" id="objectRemark" value="功能备注" placeholder="功能备注" style="width:200px" title="备注"/></td>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="btn btn-app btn-success btn-mini" onclick="saveAll();" id="productcAll"><i class="icon-print"></i>生成</a></td>
            <td>&nbsp;&nbsp;&nbsp;&nbsp;<a class="btn btn-app btn-danger btn-mini" onclick="top.Dialog.close();"><i class="icon-share-alt"></i>重置</a></td>
        </tr>
    </table>

    <ul id="myTab" class="nav nav-tabs">
        <li class="active"><a href="#gaiYao" data-toggle="tab">   概要    </a></li>
        <li>               <a href="#mysql"  data-toggle="tab">       MySql     </a></li>
        <li>               <a href="#entity"  data-toggle="tab">       Entity      </a></li>
        <li>               <a href="#controller"  data-toggle="tab">       Controller      </a></li>
        <li>               <a href="#service"  data-toggle="tab">       Service      </a></li>
        <li>               <a href="#mapper"  data-toggle="tab">       Mapper      </a></li>
        <li>               <a href="#html"  data-toggle="tab">       Html      </a></li>
        <li>               <a href="#js"  data-toggle="tab">       JS      </a></li>
        <li>               <a href="#redis"  data-toggle="tab">       Redis      </a></li>

    </ul>
    <!--概要-->
    <div id="myTabContent" class="tab-content">
        <div class="tab-pane fade in active" id="gaiYao">
            <table id="table_gai_yao" class="table table-striped table-bordered table-hover">

                <thead>
                <tr>
                    <th class="center">是否生成</th>
                    <th class="center">模板类型</th>
                    <th class="center">模板路径</th>
                    <th class="center" style="width:69px;">操作</th>
                </tr>
                </thead>

                <tbody id="table_gai_yao_fields"></tbody>

            </table>
        </div>
        <!--mysql生成-->
        <div class="tab-pane fade" id="mysql">
            <div>
                <label style="float:left;padding-left: 20px;"><input name="mysqlGrTable"  checked = "checked"  type="checkbox" value="mysqlGrTable" ></input><span class="lbl" >生成创建表</span></label>
                <label style="float:left;padding-left: 20px;"><input name="mysqlDeleteTable"   checked = "checked"  type="checkbox" value="mysqlDeleteTable" ></input><span class="lbl" >删除</span></label>
                <label style="float:left;padding-left: 20px;"><input name="mysqlEditTable"   checked = "checked"  type="checkbox" value="mysqlEditTable" ></input><span class="lbl" >修改</span></label>
                <label style="float:left;padding-left: 20px;"><input name="mysqlAddTable"   checked = "checked"  type="checkbox" value="mysqlAddTable" ></input><span class="lbl" >新增</span></label>
                <label style="float:left;padding-left: 20px;">表名：<input type="text" name="tableName"  id="tableName"  value=""   placeholder="表名" style="width:200px" title="表名"/></label>

            </div>

            <table id="table_mysql" class="table table-striped table-bordered table-hover">

                <thead>
                <tr>
                    <th class="center">属性名</th>
                    <th class="center">属性中文</th>
                    <th class="center">类型</th>
                    <th class="center">默认值</th>
                    <th class="center">是否允许为空</th>
                    <th class="center">是否为主键</th>
                    <th class="center">是否为查询</th>
                    <th class="center">查询类型</th>
                    <th class="center" style="width:69px;">操作</th>
                </tr>
                </thead>

                <tbody id="table_mysql_fields"></tbody>

            </table>
            <table id="mysql_table_report" class="table table-striped table-bordered table-hover">
                <tr>
                    <td style="text-align: center;" colspan="100">
                        <a class="btn btn-app btn-success btn-mini" onclick="mysql_dialog_open();"><i class="icon-ok"></i>mysql新增</a>
                    </td>
                </tr>
            </table>
        </div>
        <!-- 生成Entity -->
        <div class="tab-pane fade" id="entity">
            <div>实体补充</div>
            <table id="table_entity" class="table table-striped table-bordered table-hover">

                <thead>
                <tr>
                    <th class="center">属性名</th>
                    <th class="center">属性中文</th>
                    <th class="center">类型</th>
                    <th class="center">默认值</th>
                    <th class="center">是否允许为空</th>
                    <th class="center">是否为主键</th>
                    <th class="center" style="width:69px;">操作</th>
                </tr>
                </thead>

                <tbody id="table_entity_fields"></tbody>

            </table>
            <table id="mysql_entity_report" class="table table-striped table-bordered table-hover">
                <tr>
                    <td style="text-align: center;" colspan="100">
                        <a class="btn btn-app btn-success btn-mini" onclick="entity_dialog_open();"><i class="icon-ok"></i>entity新增</a>
                    </td>
                </tr>
            </table>


        </div>
        <div class="tab-pane fade" id="controller">
            <div>
                <label style="float:left;padding-left: 20px;"><input name="controllerSelect"  checked = "checked"  type="checkbox" value="controllerSelect" ></input><span class="lbl" >生成查询</span></label>
                <label style="float:left;padding-left: 20px;"><input name="controllerDelete"   checked = "checked"  type="checkbox" value="controllerDelete" ></input><span class="lbl" >生成删除</span></label>
                <label style="float:left;padding-left: 20px;"><input name="controllerUpadte"   checked = "checked"  type="checkbox" value="controllerUpadte" ></input><span class="lbl" >生成修改</span></label>
                <label style="float:left;padding-left: 20px;"><input name="controllerAdd"   checked = "checked"  type="checkbox" value="controllerAdd" ></input><span class="lbl" >生成新增</span></label>
                <label style="float:left;padding-left: 20px;"><input name="controllerExport"   checked = "checked"  type="checkbox" value="controllerExport" ></input><span class="lbl" >生成导出</span></label>
                <label style="float:left;padding-left: 20px;"><input name="controllerImport"   checked = "checked"  type="checkbox" value="controllerImport" ></input><span class="lbl" >生成导入</span></label>
                <label style="float:left;padding-left: 20px;">创建者：<input type="text" name="controllerCreator"  id="controllerCreator"  value="root"   placeholder="创建者" style="width:200px" title="创建者"/></label>

            </div>
        </div>
        <div class="tab-pane fade" id="service">
            <p>tap</p>
        </div>
        <div class="tab-pane fade" id="mapper">
            <p>tap</p>
        </div>

        <div class="tab-pane fade" id="html">
            <p>tap</p>
        </div>
        <div class="tab-pane fade" id="js">
            <p>tap</p>
        </div>

        <div class="tab-pane fade" id="redis">
            <p>tap</p>
        </div>

    </div>

</form>


<!-- 引入 -->
<script src='static/js/createcode/jquery-1.9.1.min.js'></script>
<script src="static/js/createcode/bootstrap.min.js"></script>
<script src="static/js/createcode/ace-elements.min.js"></script>
<script src="static/js/createcode/ace.min.js"></script>
<script src="static/js/createcode/productCode.js"></script>
<script type="text/javascript">

    /*第二版js*/
    $(document).ready(function(){
        //概要
        $.ajax( {
            url: "/New/query_gai_yao" ,
            type: "POST" ,
            success: function( json, textStatus, jqXHR ){
                $.each(json, function(idx, obj) {
                    var fields = obj.orNot+',fh,'+obj.modelType+',fh,'+obj.modelAddr;
                    arrayFieldMysql(fields);
                });


            } ,
            error: function(jqXHR, textStatus, errorMsg){
                console.log("error!");
            }
        });
        //mysql tap页
        var fieldsMsql ='id'+',fh,'+'id'+',fh,'+'String'+',fh,'+'主键'+',fh,'+'否'+',fh,'+'是'+',fh,'+'是'+',fh,'+'=';
        var fieldsMsql1 ='name'+',fh,'+'名字'+',fh,'+'String'+',fh,'+'无'+',fh,'+'是'+',fh,'+'否'+',fh,'+'是'+',fh,'+'=';
        var fieldsMsql2 ='age'+',fh,'+'年龄'+',fh,'+'Integer'+',fh,'+'无'+',fh,'+'是'+',fh,'+'否'+',fh,'+'是'+',fh,'+'=';
        var fieldsMsql3 ='creattime'+',fh,'+'时间'+',fh,'+'DATE'+',fh,'+'无'+',fh,'+'否'+',fh,'+'否'+',fh,'+'否'+',fh,'+'=';
        var fieldsMsql4 ='updattime'+',fh,'+'时间'+',fh,'+'DATE'+',fh,'+'无'+',fh,'+'否'+',fh,'+'否'+',fh,'+'否'+',fh,'+'=';
        arrayFieldMysqlTap(fieldsMsql);
        arrayFieldMysqlTap(fieldsMsql1);
        arrayFieldMysqlTap(fieldsMsql2);
        arrayFieldMysqlTap(fieldsMsql3);
        arrayFieldMysqlTap(fieldsMsql4);
    });
</script>

</body>
</html>